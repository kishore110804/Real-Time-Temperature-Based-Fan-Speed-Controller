â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘          STM32 FAN CONTROL - QUICK REFERENCE FOR DEMONSTRATION               â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€ ONE-COMMAND DEMO â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                              â”‚
â”‚   Double-click:  demo_for_professor.bat                                     â”‚
â”‚                                                                              â”‚
â”‚   This will:                                                                 â”‚
â”‚   âœ“ Generate circuit schematic (KiCad format)                               â”‚
â”‚   âœ“ Run STM32 simulation in Renode (30 seconds)                             â”‚
â”‚   âœ“ Collect temperature sweep data (25Â°C â†’ 100Â°C)                           â”‚
â”‚   âœ“ Generate PROJECT_REPORT.txt with statistics                             â”‚
â”‚   âœ“ Create simulation_data.csv for Excel                                    â”‚
â”‚   âœ“ Open results automatically                                              â”‚
â”‚                                                                              â”‚
â”‚   â±ï¸  Total time: ~40 seconds                                                â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€ KEY FILES TO SHOW PROFESSOR â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                              â”‚
â”‚  ğŸ“Š PROJECT_REPORT.txt                                                       â”‚
â”‚     â†’ Formatted report with statistics (456 samples)                        â”‚
â”‚                                                                              â”‚
â”‚  ğŸ”Œ RTS_FanControl.kicad_sch                                                 â”‚
â”‚     â†’ Complete circuit diagram (open in KiCad)                              â”‚
â”‚                                                                              â”‚
â”‚  ğŸ“ˆ simulation_data.csv                                                      â”‚
â”‚     â†’ Raw data for Excel graphs                                             â”‚
â”‚                                                                              â”‚
â”‚  ğŸ“ uart_output.txt                                                          â”‚
â”‚     â†’ Raw UART output from simulation                                       â”‚
â”‚                                                                              â”‚
â”‚  ğŸ“– COMPLETE_PROJECT_SUMMARY.md                                              â”‚
â”‚     â†’ Full project documentation                                            â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€ PROJECT SPECIFICATIONS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                              â”‚
â”‚  Microcontroller:   STM32F103C8T6 (ARM Cortex-M3 @ 72MHz)                   â”‚
â”‚  Temperature:       LM35 sensor (10mV/Â°C) - simulated in software           â”‚
â”‚  Motor Driver:      2N2222 transistor + 1kÎ© resistor + 1N4007 diode         â”‚
â”‚  PWM Frequency:     8 kHz (silent operation)                                 â”‚
â”‚  Control:           Proportional (Fan Speed = Temperature Ã— 40%)             â”‚
â”‚  Temp Range:        25Â°C to 100Â°C                                            â”‚
â”‚  UART Debug:        115200 baud on PA9/PA10                                  â”‚
â”‚  Firmware Size:     852 bytes (bare-metal CMSIS)                             â”‚
â”‚  Simulation:        Renode 1.16.0 (virtual hardware)                         â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€ DEMONSTRATION POINTS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                              â”‚
â”‚  1ï¸âƒ£  CIRCUIT DESIGN                                                          â”‚
â”‚     â†’ Open RTS_FanControl.kicad_sch in KiCad                                â”‚
â”‚     â†’ Show complete schematic with all components                           â”‚
â”‚     â†’ Explain transistor motor driver circuit                               â”‚
â”‚     â†’ Highlight flyback diode protection                                    â”‚
â”‚                                                                              â”‚
â”‚  2ï¸âƒ£  CONTROL ALGORITHM                                                       â”‚
â”‚     â†’ Show PROJECT_REPORT.txt measurement table                             â”‚
â”‚     â†’ Point out linear relationship:                                        â”‚
â”‚       â€¢ 25Â°C â†’ 25% fan speed                                                â”‚
â”‚       â€¢ 50Â°C â†’ 50% fan speed                                                â”‚
â”‚       â€¢ 100Â°C â†’ 100% fan speed                                              â”‚
â”‚     â†’ Explain proportional control formula                                  â”‚
â”‚                                                                              â”‚
â”‚  3ï¸âƒ£  SIMULATION RESULTS                                                      â”‚
â”‚     â†’ Show 456 samples collected                                            â”‚
â”‚     â†’ Temperature sweep from 25Â°C to 100Â°C                                  â”‚
â”‚     â†’ Perfect linear control verified                                       â”‚
â”‚     â†’ Real-time UART output demonstration                                   â”‚
â”‚                                                                              â”‚
â”‚  4ï¸âƒ£  CODE QUALITY                                                            â”‚
â”‚     â†’ Bare-metal programming (852 bytes!)                                   â”‚
â”‚     â†’ Direct register access (no HAL overhead)                              â”‚
â”‚     â†’ Renode simulator compatibility achieved                               â”‚
â”‚     â†’ Professional documentation                                            â”‚
â”‚                                                                              â”‚
â”‚  5ï¸âƒ£  EXCEL GRAPHS (if time permits)                                         â”‚
â”‚     â†’ Open simulation_data.csv in Excel                                     â”‚
â”‚     â†’ Create Temperature vs Fan Speed chart                                 â”‚
â”‚     â†’ Show perfect linear trendline                                         â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€ CONTROL ALGORITHM EXPLANATION â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                              â”‚
â”‚   Formula:  PWM_Duty = Temperature Ã— 40                                      â”‚
â”‚                                                                              â”‚
â”‚   Why 40?                                                                    â”‚
â”‚   â€¢ PWM range: 0 to 4000 (0-100%)                                           â”‚
â”‚   â€¢ Temp range: 0 to 100Â°C                                                  â”‚
â”‚   â€¢ Scale factor: 4000 / 100 = 40                                           â”‚
â”‚                                                                              â”‚
â”‚   Example Calculation:                                                       â”‚
â”‚   â€¢ Temperature = 75Â°C                                                       â”‚
â”‚   â€¢ PWM = 75 Ã— 40 = 3000                                                     â”‚
â”‚   â€¢ Fan Speed = (3000 / 4000) Ã— 100% = 75%                                  â”‚
â”‚                                                                              â”‚
â”‚   Result: Perfect proportional control! ğŸ¯                                   â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€ SAMPLE OUTPUT FROM UART â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                              â”‚
â”‚   ========================================                                   â”‚
â”‚   STM32 Fan Control Simulation                                              â”‚
â”‚   ========================================                                   â”‚
â”‚                                                                              â”‚
â”‚   Temp: 25 C | ADC: 300 | PWM: 1000 | Fan: 25%                              â”‚
â”‚   Temp: 30 C | ADC: 360 | PWM: 1200 | Fan: 30%                              â”‚
â”‚   Temp: 35 C | ADC: 420 | PWM: 1400 | Fan: 35%                              â”‚
â”‚   ...                                                                        â”‚
â”‚   Temp: 95 C | ADC: 1140 | PWM: 3800 | Fan: 95%                             â”‚
â”‚   Temp: 100 C | ADC: 1200 | PWM: 4000 | Fan: 100%                           â”‚
â”‚                                                                              â”‚
â”‚   [Cycles back to 25Â°C and repeats...]                                      â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€ PROJECT STATISTICS (from PROJECT_REPORT.txt) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                              â”‚
â”‚   Total Samples:        456 readings                                         â”‚
â”‚   Temperature Range:    25Â°C - 100Â°C                                         â”‚
â”‚   Average Temperature:  60.7Â°C                                               â”‚
â”‚                                                                              â”‚
â”‚   ADC Range:           300 - 1200 (12-bit)                                  â”‚
â”‚   Average ADC:         729                                                   â”‚
â”‚                                                                              â”‚
â”‚   PWM Duty Range:      1000 - 4000                                          â”‚
â”‚   Average PWM:         2429                                                  â”‚
â”‚   PWM Utilization:     60.7%                                                 â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€ IF PROFESSOR ASKS... â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                              â”‚
â”‚  Q: "Why use Renode instead of real hardware?"                              â”‚
â”‚  A: Renode allows testing without physical board, captures all UART         â”‚
â”‚     output automatically, and enables automated report generation.          â”‚
â”‚     Plus, firmware is ready to upload to real STM32 hardware!               â”‚
â”‚                                                                              â”‚
â”‚  Q: "Why is the firmware only 852 bytes?"                                   â”‚
â”‚  A: Used bare-metal CMSIS instead of heavy HAL library. Direct              â”‚
â”‚     register access is more efficient and works better in simulation.       â”‚
â”‚                                                                              â”‚
â”‚  Q: "How did you verify the control algorithm?"                             â”‚
â”‚  A: Collected 456 samples across full temperature range (25-100Â°C).         â”‚
â”‚     Data shows perfect linear relationship, documented in report.           â”‚
â”‚                                                                              â”‚
â”‚  Q: "Can this run on real hardware?"                                        â”‚
â”‚  A: Yes! Two firmware versions:                                             â”‚
â”‚     â€¢ main_simple.c (852 bytes) - For Renode simulation                     â”‚
â”‚     â€¢ main.c (11KB HAL) - For real STM32 hardware with actual LM35         â”‚
â”‚                                                                              â”‚
â”‚  Q: "What about safety/protection?"                                         â”‚
â”‚  A: Circuit includes:                                                        â”‚
â”‚     â€¢ 1kÎ© base resistor (limits transistor current)                         â”‚
â”‚     â€¢ 1N4007 flyback diode (protects from motor back-EMF)                   â”‚
â”‚     â€¢ Proper grounding and power supply design                              â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€ TROUBLESHOOTING (Just in case) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                              â”‚
â”‚  âŒ Batch file won't run                                                     â”‚
â”‚     â†’ Right-click â†’ "Run as administrator"                                  â”‚
â”‚                                                                              â”‚
â”‚  âŒ Renode not found                                                         â”‚
â”‚     â†’ Check path in demo_for_professor.bat (line 18)                        â”‚
â”‚     â†’ Default: "C:\Program Files\Renode\bin\Renode.exe"                     â”‚
â”‚                                                                              â”‚
â”‚  âŒ Python errors                                                            â”‚
â”‚     â†’ Make sure Python 3.x is installed                                     â”‚
â”‚     â†’ Run: python --version                                                 â”‚
â”‚                                                                              â”‚
â”‚  âŒ KiCad won't open schematic                                               â”‚
â”‚     â†’ Install KiCad 7.x: https://www.kicad.org/download/                    â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€ BACKUP: MANUAL RUN (if batch file fails) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                              â”‚
â”‚  Step 1: Generate schematic                                                  â”‚
â”‚    python generate_kicad_schematic.py                                        â”‚
â”‚                                                                              â”‚
â”‚  Step 2: Run simulation (PowerShell)                                         â”‚
â”‚    & "C:\Program Files\Renode\bin\Renode.exe" `                             â”‚
â”‚      -e "include @demo_sim.resc"                                             â”‚
â”‚                                                                              â”‚
â”‚  Step 3: Wait 30 seconds, then close Renode window                           â”‚
â”‚                                                                              â”‚
â”‚  Step 4: Generate report                                                     â”‚
â”‚    python analyze_results.py                                                 â”‚
â”‚                                                                              â”‚
â”‚  Step 5: View results                                                        â”‚
â”‚    notepad PROJECT_REPORT.txt                                                â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€ GRADING HIGHLIGHTS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                              â”‚
â”‚  âœ… Complete circuit schematic (KiCad professional format)                   â”‚
â”‚  âœ… Working simulation with real output data                                 â”‚
â”‚  âœ… Documented control algorithm with verification                           â”‚
â”‚  âœ… 456 samples demonstrating system behavior                                â”‚
â”‚  âœ… Bare-metal programming (advanced technique)                              â”‚
â”‚  âœ… Automated testing and report generation                                  â”‚
â”‚  âœ… Professional documentation (multiple formats)                            â”‚
â”‚  âœ… Ready for hardware implementation                                        â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                          ğŸ“ GOOD LUCK! ğŸ“                                    â•‘
â•‘                                                                              â•‘
â•‘         Just run:  demo_for_professor.bat  and you're done! âœ¨              â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
